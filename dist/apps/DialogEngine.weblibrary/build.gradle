plugins {
	id "java"
	id "de.undercouch.download" version "4.0.4"
}

dependencies {
	implementation project(':sys')
	implementation files('../../sys/bin')
	implementation 'org.slf4j:slf4j-api:1.7.25'
	implementation 'org.codehaus.jettison:jettison:1.4.0'
}

sourceSets {
	main.java.srcDirs = ['src']
	main {
		output.resourcesDir = file('bin')
		java.outputDir = file('bin')
	}
}


jar.enabled = false

task updatedeps {
    doLast {
        download {
            src([
                'https://raw.githubusercontent.com/LUMII-Syslab/imcs_dialogvisualizer/master/dist/imcs_dialogvisualizer.css',
                'https://raw.githubusercontent.com/LUMII-Syslab/imcs_dialogvisualizer/master/dist/imcs_dialogvisualizer.css.map',
                'https://raw.githubusercontent.com/LUMII-Syslab/imcs_dialogvisualizer/master/dist/imcs_dialogvisualizer.js',
                'https://raw.githubusercontent.com/LUMII-Syslab/imcs_dialogvisualizer/master/dist/imcs_dialogvisualizer.js.LICENSE.txt',
                'https://raw.githubusercontent.com/LUMII-Syslab/imcs_dialogvisualizer/master/dist/imcs_dialogvisualizer.js.map'      
            ])
            dest 'web-root'
            onlyIfModified true
        }
    }
}


task install {
    dependsOn build
}
