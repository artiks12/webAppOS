plugins {
  id "java"
  id "de.undercouch.download" version "4.0.4"
}


  dependencies {
    implementation project(':sys')
    implementation files('../../sys/bin')
    implementation 'org.slf4j:slf4j-api:1.7.25'
    implementation 'org.codehaus.jettison:jettison:1.4.0'
  }

  sourceSets {
    main.java.srcDirs = ['src']
    main {
      output.resourcesDir = file('bin')
      java.outputDir = file('bin')
    }
  }


  jar.enabled = false


task updatedeps {
    doLast {
      download {
          src 'https://raw.githubusercontent.com/LUMII-Syslab/imcs_layoutengine/master/dist/imcs_layoutengine.min.js'
          dest 'web-root/imcs_diagrameditor/lib/imcs_layoutengine.js'
          onlyIfModified true
      }
      download {
          src 'https://raw.githubusercontent.com/LUMII-Syslab/imcs_layoutengine/master/imcs_layoutengine.COPYING'
          dest 'web-root/imcs_diagrameditor/lib/imcs_layoutengine.COPYING'
          onlyIfModified true
      }
    }
}

task install {
    dependsOn build
}
